<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
layout:decorate="~{layout/layout}">
<head>
<meta charset="UTF-8">
<title>プロフィール設定</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
	<div layout:fragment="content">
		<div class=" row mt-3">
			<div class="col-md-4 mb-3">
				<a th:href="@{/setting}" class="btn btn-outline-secondary btn-block w-100">ユーザー情報</a>
			</div>
			<div class="col-md-4 mb-3">
				<a th:href="@{/setting/email}" class="btn btn-outline-secondary btn-block w-100">Eメール変更</a>
			</div>
			<div class="col-md-4 mb-3">
				<a th:href="@{/setting/password}" class="btn btn-outline-secondary btn-block w-100">パスワードの変更</a>
			</div>
		</div>
		<div class="container-fluid">
			<div id="card" class="card setting-card shadow mt-3 mx-auto">
				<div class="card-header bg-primary text-white">
					<h4 class="mb-0">プロフィール設定</h4>
				</div>
				<div class="card-body">
					<form th:action="@{/setting}" th:object="${userProfileForm}" method="post">

						<!-- メールアドレス（表示のみ） -->
						<div class="mb-3">
							<label for="currentEmail" class="form-label">メールアドレス</label>
							<input type="email" id="currentEmail" class="form-control bg-light text-center"
								th:value="${email}" readonly />
						</div>

						<!-- 姓 -->
						<div class="mb-3">
							<label for="familyName" class="form-label">姓</label>
							<input type="text" th:field="*{familyName}" class="form-control text-center"
								th:errorclass="is-invalid" />
							<div class="invalid-feedback" th:errors="*{familyName}"></div>
						</div>

						<!-- 名 -->
						<div class="mb-3">
							<label for="firstName" class="form-label">名</label>
							<input type="text" th:field="*{firstName}" class="form-control text-center"
								th:errorclass="is-invalid" />
							<div class="invalid-feedback" th:errors="*{firstName}"></div>
						</div>

						<!-- 部署 -->
						<div class="mb-3">
							<label for="departmentId" class="form-label">部署</label>
							<select class="form-control text-center" th:field="*{departmentId}"
								th:errorclass="is-invalid">
								<option value="">---選択してください---</option>
								<option th:each="department : ${departments}" th:value="${department.id}"
									th:text="${department.departmentName}"></option>
							</select>
							<div class="invalid-feedback" th:errors="*{departmentId}"></div>
						</div>

						<!-- 送信ボタン -->
						<div class="text-end mt-3">
							<button type="submit" class="btn btn-success">保存する</button>
						</div>

					</form>
				</div>
			</div>
		</div>
</body>

</html>